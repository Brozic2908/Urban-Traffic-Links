# PhÃ¢n tÃ­ch Má»‘i liÃªn há»‡ Giao thÃ´ng TP.HCM sá»­ dá»¥ng Big Data vÃ  Deep Learning

**Dá»± Ã¡n chuyÃªn ngÃ nh Ká»¹ thuáº­t MÃ¡y tÃ­nh - HK251**

## ğŸ“œ Giá»›i thiá»‡u

Dá»± Ã¡n nÃ y táº­p trung vÃ o viá»‡c nghiÃªn cá»©u vÃ  xÃ¢y dá»±ng má»™t há»‡ thá»‘ng phÃ¢n tÃ­ch tÃ¬nh tráº¡ng giao thÃ´ng (TTGT) táº¡i cÃ¡c nÃºt giao thÃ´ng quan trá»ng á»Ÿ ThÃ nh phá»‘ Há»“ ChÃ­ Minh. Má»¥c tiÃªu chÃ­nh lÃ  khÃ¡m phÃ¡ vÃ  mÃ´ hÃ¬nh hÃ³a má»‘i liÃªn há»‡, tÆ°Æ¡ng quan vá» TTGT giá»¯a cÃ¡c nÃºt giao thÃ´ng khÃ¡c nhau trong má»™t máº¡ng lÆ°á»›i phá»©c táº¡p, tá»« Ä‘Ã³ Ä‘Æ°a ra nhá»¯ng dá»± bÃ¡o vÃ  Ä‘Ã¡nh giÃ¡ cÃ³ giÃ¡ trá»‹.

Há»‡ thá»‘ng sá»­ dá»¥ng cÃ¡c cÃ´ng nghá»‡ Big Data vÃ  Deep Learning hiá»‡n Ä‘áº¡i Ä‘á»ƒ xá»­ lÃ½ lÆ°á»£ng dá»¯ liá»‡u lá»›n vÃ  xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh dá»± bÃ¡o thÃ´ng minh, vá»›i má»¥c tiÃªu tÃ­ch há»£p vÃ o há»‡ thá»‘ng UTraffic.

## ğŸ¯ Má»¥c tiÃªu chÃ­nh

- **Kháº£o sÃ¡t**: NghiÃªn cá»©u cÃ¡c giáº£i phÃ¡p phÃ¢n tÃ­ch TTGT vÃ  cÃ¡c nghiÃªn cá»©u hiá»‡n cÃ³ vá» sá»± tÆ°Æ¡ng quan trong máº¡ng lÆ°á»›i giao thÃ´ng Ä‘Ã´ thá»‹.
- **Thu tháº­p & Xá»­ lÃ½ Dá»¯ liá»‡u**: XÃ¢y dá»±ng cÆ¡ cháº¿ thu tháº­p dá»¯ liá»‡u TTGT vÃ  sá»­ dá»¥ng Apache Spark Ä‘á»ƒ xá»­ lÃ½, lÃ m sáº¡ch vÃ  trÃ­ch xuáº¥t Ä‘áº·c trÆ°ng tá»« dá»¯ liá»‡u lá»›n.
- **MÃ´ hÃ¬nh hÃ³a**: á»¨ng dá»¥ng PyTorch Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh Deep Learning (vÃ­ dá»¥: Graph Neural Networks, LSTM) nháº±m phÃ¢n tÃ­ch sá»± tÆ°Æ¡ng quan vÃ  dá»± bÃ¡o TTGT.
- **XÃ¢y dá»±ng Demo**: Triá»ƒn khai mÃ´ hÃ¬nh thÃ nh má»™t dá»‹ch vá»¥ API sá»­ dá»¥ng FastAPI vÃ  Ä‘Ã³ng gÃ³i báº±ng Docker Ä‘á»ƒ dá»… dÃ ng triá»ƒn khai vÃ  tÃ­ch há»£p.
- **ÄÃ¡nh giÃ¡**: Thá»­ nghiá»‡m vÃ  Ä‘Ã¡nh giÃ¡ giáº£i phÃ¡p trÃªn dá»¯ liá»‡u thá»±c táº¿ táº¡i TP.HCM.

## ğŸ› ï¸ NgÄƒn xáº¿p CÃ´ng nghá»‡ (Tech Stack)

| LÄ©nh vá»±c            | CÃ´ng nghá»‡                                                                                                  |
| ------------------- | ---------------------------------------------------------------------------------------------------------- |
| Big Data Processing | ğŸ˜ Apache Spark (PySpark) - DÃ¹ng Ä‘á»ƒ xá»­ lÃ½, biáº¿n Ä‘á»•i vÃ  phÃ¢n tÃ­ch cÃ¡c táº­p dá»¯ liá»‡u giao thÃ´ng quy mÃ´ lá»›n.    |
| Deep Learning       | ğŸ”¥ PyTorch - Framework chÃ­nh Ä‘á»ƒ xÃ¢y dá»±ng, huáº¥n luyá»‡n vÃ  Ä‘Ã¡nh giÃ¡ cÃ¡c mÃ´ hÃ¬nh máº¡ng nÆ¡-ron.                  |
| API Development     | ğŸš€ FastAPI - XÃ¢y dá»±ng API hiá»‡u suáº¥t cao Ä‘á»ƒ cung cáº¥p cÃ¡c dá»± Ä‘oÃ¡n tá»« mÃ´ hÃ¬nh.                                |
| Deployment          | ğŸ³ Docker & Docker Compose - ÄÃ³ng gÃ³i vÃ  triá»ƒn khai á»©ng dá»¥ng má»™t cÃ¡ch nháº¥t quÃ¡n vÃ  Ä‘á»™c láº­p vá»›i mÃ´i trÆ°á»ng. |
| NgÃ´n ngá»¯            | ğŸ Python 3.9+                                                                                             |
| Quáº£n lÃ½ Dá»¯ liá»‡u     | Pandas, NumPy, Parquet                                                                                     |

## ğŸ—‚ï¸ Cáº¥u trÃºc ThÆ° má»¥c

```
HCM_TNA/
â”‚
â”œâ”€â”€ ğŸ“‚ data/                  # Chá»©a dá»¯ liá»‡u thÃ´, Ä‘Ã£ xá»­ lÃ½ vÃ  features
â”œâ”€â”€ ğŸ“‚ notebooks/             # Jupyter notebooks cho phÃ¢n tÃ­ch khÃ¡m phÃ¡
â”œâ”€â”€ ğŸ“‚ src/                   # MÃ£ nguá»“n chÃ­nh cá»§a dá»± Ã¡n
â”‚   â”œâ”€â”€ ğŸ“¦ data_processing/   # Scripts xá»­ lÃ½ dá»¯ liá»‡u vá»›i PySpark
â”‚   â”œâ”€â”€ ğŸ“¦ model/             # MÃ£ nguá»“n xÃ¢y dá»±ng vÃ  huáº¥n luyá»‡n mÃ´ hÃ¬nh PyTorch
â”‚   â””â”€â”€ ğŸ“¦ visualization/     # Scripts trá»±c quan hÃ³a
â”‚
â”œâ”€â”€ ğŸ“‚ models/                # LÆ°u cÃ¡c file model .pth Ä‘Ã£ huáº¥n luyá»‡n
â”œâ”€â”€ ğŸ“‚ deployment/            # Cáº¥u hÃ¬nh vÃ  scripts Ä‘á»ƒ triá»ƒn khai (Docker, FastAPI)
â”œâ”€â”€ ğŸ“œ .gitignore
â”œâ”€â”€ ğŸ“œ README.md
â”œâ”€â”€ ğŸ“œ requirements.txt       # Danh sÃ¡ch cÃ¡c thÆ° viá»‡n Python cáº§n thiáº¿t
â””â”€â”€ ğŸ“œ config.yaml            # File cáº¥u hÃ¬nh táº­p trung
```

## âš™ï¸ HÆ°á»›ng dáº«n CÃ i Ä‘áº·t & Sá»­ dá»¥ng

### YÃªu cáº§u tiÃªn quyáº¿t

- Git
- Python 3.9+
- Docker vÃ  Docker Compose

### CÃ¡c bÆ°á»›c thá»±c hiá»‡n

**Clone repository vá» mÃ¡y:**

```bash
git clone <URL_CUA_REPOSITORY>
cd hcmc-traffic-spark-pytorch
```

**CÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n Python cáº§n thiáº¿t:**

```bash
pip install -r requirements.txt
```

**(TÃ¹y chá»n) Cháº¡y tÃ¡c vá»¥ xá»­ lÃ½ dá»¯ liá»‡u vá»›i Spark:**

```bash
# VÃ­ dá»¥ lá»‡nh Ä‘á»ƒ cháº¡y má»™t Spark job
python src/data_processing/spark_job.py
```

**Huáº¥n luyá»‡n mÃ´ hÃ¬nh Deep Learning:**

```bash
python src/model/train.py
```

QuÃ¡ trÃ¬nh nÃ y sáº½ huáº¥n luyá»‡n mÃ´ hÃ¬nh PyTorch vÃ  lÆ°u file trá»ng sá»‘ vÃ o thÆ° má»¥c `models/`.

**Khá»Ÿi cháº¡y há»‡ thá»‘ng API báº±ng Docker:**

```bash
docker-compose up --build
```

API sáº½ cháº¡y táº¡i Ä‘á»‹a chá»‰: [http://localhost:8000](http://localhost:8000)  
TÃ i liá»‡u API: [http://localhost:8000/docs](http://localhost:8000/docs)

## ğŸ§© Workflow Luá»“ng lÃ m viá»‡c cá»§a Dá»± Ã¡n

1. **Thu tháº­p Dá»¯ liá»‡u**: Láº¥y dá»¯ liá»‡u thÃ´ vá» TTGT tá»« há»‡ thá»‘ng UTraffic vÃ  cÃ¡c nguá»“n khÃ¡c.
2. **Xá»­ lÃ½ Dá»¯ liá»‡u Lá»›n**: Sá»­ dá»¥ng PySpark Ä‘á»ƒ lÃ m sáº¡ch, tá»•ng há»£p dá»¯ liá»‡u vÃ  táº¡o cÃ¡c features (vÃ­ dá»¥: lÆ°u lÆ°á»£ng xe, váº­n tá»‘c trung bÃ¬nh theo tá»«ng khung giá»).
3. **Huáº¥n luyá»‡n MÃ´ hÃ¬nh**: Dá»¯ liá»‡u features Ä‘Æ°á»£c Ä‘Æ°a vÃ o mÃ´ hÃ¬nh PyTorch Ä‘á»ƒ huáº¥n luyá»‡n, tÃ¬m ra cÃ¡c quy luáº­t vÃ  má»‘i tÆ°Æ¡ng quan.
4. **Triá»ƒn khai API**: MÃ´ hÃ¬nh Ä‘Ã£ huáº¥n luyá»‡n Ä‘Æ°á»£c Ä‘Ã³ng gÃ³i cÃ¹ng vá»›i FastAPI trong má»™t Docker container.
5. **TÃ­ch há»£p**: API cÃ³ thá»ƒ Ä‘Æ°á»£c gá»i bá»Ÿi há»‡ thá»‘ng UTraffic hoáº·c cÃ¡c á»©ng dá»¥ng khÃ¡c Ä‘á»ƒ láº¥y thÃ´ng tin phÃ¢n tÃ­ch.

## ğŸ“š TÃ i liá»‡u tham kháº£o

- [UTraffic System](https://bktraffic.com/home/)
